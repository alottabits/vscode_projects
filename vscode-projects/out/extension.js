"use strict";var yi=Object.create;var xe=Object.defineProperty;var xi=Object.getOwnPropertyDescriptor;var bi=Object.getOwnPropertyNames;var Ai=Object.getPrototypeOf,Ci=Object.prototype.hasOwnProperty;var p=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),Ei=(e,r)=>{for(var n in r)xe(e,n,{get:r[n],enumerable:!0})},Fr=(e,r,n,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let t of bi(r))!Ci.call(e,t)&&t!==n&&xe(e,t,{get:()=>r[t],enumerable:!(i=xi(r,t))||i.enumerable});return e};var k=(e,r,n)=>(n=e!=null?yi(Ai(e)):{},Fr(r||!e||!e.__esModule?xe(n,"default",{value:e,enumerable:!0}):n,e)),Si=e=>Fr(xe({},"__esModule",{value:!0}),e);var ir=p(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.default=ji;var Fi=_i(require("crypto"));function _i(e){return e&&e.__esModule?e:{default:e}}var Ce=new Uint8Array(256),Ae=Ce.length;function ji(){return Ae>Ce.length-16&&(Fi.default.randomFillSync(Ce),Ae=0),Ce.slice(Ae,Ae+=16)}});var jr=p(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.default=void 0;var Pi=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;Ee.default=Pi});var ae=p(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.default=void 0;var Ti=Di(jr());function Di(e){return e&&e.__esModule?e:{default:e}}function ki(e){return typeof e=="string"&&Ti.default.test(e)}var Oi=ki;Se.default=Oi});var le=p(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.default=void 0;var Ii=Mi(ae());function Mi(e){return e&&e.__esModule?e:{default:e}}var F=[];for(let e=0;e<256;++e)F.push((e+256).toString(16).substr(1));function qi(e,r=0){let n=(F[e[r+0]]+F[e[r+1]]+F[e[r+2]]+F[e[r+3]]+"-"+F[e[r+4]]+F[e[r+5]]+"-"+F[e[r+6]]+F[e[r+7]]+"-"+F[e[r+8]]+F[e[r+9]]+"-"+F[e[r+10]]+F[e[r+11]]+F[e[r+12]]+F[e[r+13]]+F[e[r+14]]+F[e[r+15]]).toLowerCase();if(!(0,Ii.default)(n))throw TypeError("Stringified UUID is invalid");return n}var Ni=qi;Fe.default=Ni});var Dr=p(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.default=void 0;var Li=Tr(ir()),Ri=Tr(le());function Tr(e){return e&&e.__esModule?e:{default:e}}var Pr,or,sr=0,cr=0;function $i(e,r,n){let i=r&&n||0,t=r||new Array(16);e=e||{};let s=e.node||Pr,o=e.clockseq!==void 0?e.clockseq:or;if(s==null||o==null){let d=e.random||(e.rng||Li.default)();s==null&&(s=Pr=[d[0]|1,d[1],d[2],d[3],d[4],d[5]]),o==null&&(o=or=(d[6]<<8|d[7])&16383)}let c=e.msecs!==void 0?e.msecs:Date.now(),a=e.nsecs!==void 0?e.nsecs:cr+1,l=c-sr+(a-cr)/1e4;if(l<0&&e.clockseq===void 0&&(o=o+1&16383),(l<0||c>sr)&&e.nsecs===void 0&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");sr=c,cr=a,or=o,c+=122192928e5;let u=((c&268435455)*1e4+a)%4294967296;t[i++]=u>>>24&255,t[i++]=u>>>16&255,t[i++]=u>>>8&255,t[i++]=u&255;let f=c/4294967296*1e4&268435455;t[i++]=f>>>8&255,t[i++]=f&255,t[i++]=f>>>24&15|16,t[i++]=f>>>16&255,t[i++]=o>>>8|128,t[i++]=o&255;for(let d=0;d<6;++d)t[i+d]=s[d];return r||(0,Ri.default)(t)}var Bi=$i;_e.default=Bi});var ar=p(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.default=void 0;var Ui=Hi(ae());function Hi(e){return e&&e.__esModule?e:{default:e}}function Yi(e){if(!(0,Ui.default)(e))throw TypeError("Invalid UUID");let r,n=new Uint8Array(16);return n[0]=(r=parseInt(e.slice(0,8),16))>>>24,n[1]=r>>>16&255,n[2]=r>>>8&255,n[3]=r&255,n[4]=(r=parseInt(e.slice(9,13),16))>>>8,n[5]=r&255,n[6]=(r=parseInt(e.slice(14,18),16))>>>8,n[7]=r&255,n[8]=(r=parseInt(e.slice(19,23),16))>>>8,n[9]=r&255,n[10]=(r=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=r/4294967296&255,n[12]=r>>>24&255,n[13]=r>>>16&255,n[14]=r>>>8&255,n[15]=r&255,n}var Wi=Yi;je.default=Wi});var lr=p(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.default=Qi;Y.URL=Y.DNS=void 0;var Gi=kr(le()),Ki=kr(ar());function kr(e){return e&&e.__esModule?e:{default:e}}function Vi(e){e=unescape(encodeURIComponent(e));let r=[];for(let n=0;n<e.length;++n)r.push(e.charCodeAt(n));return r}var Or="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Y.DNS=Or;var Ir="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Y.URL=Ir;function Qi(e,r,n){function i(t,s,o,c){if(typeof t=="string"&&(t=Vi(t)),typeof s=="string"&&(s=(0,Ki.default)(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let a=new Uint8Array(16+t.length);if(a.set(s),a.set(t,s.length),a=n(a),a[6]=a[6]&15|r,a[8]=a[8]&63|128,o){c=c||0;for(let l=0;l<16;++l)o[c+l]=a[l];return o}return(0,Gi.default)(a)}try{i.name=e}catch{}return i.DNS=Or,i.URL=Ir,i}});var Mr=p(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.default=void 0;var Ji=zi(require("crypto"));function zi(e){return e&&e.__esModule?e:{default:e}}function Xi(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Ji.default.createHash("md5").update(e).digest()}var Zi=Xi;Pe.default=Zi});var Nr=p(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.default=void 0;var eo=qr(lr()),ro=qr(Mr());function qr(e){return e&&e.__esModule?e:{default:e}}var no=(0,eo.default)("v3",48,ro.default),to=no;Te.default=to});var Rr=p(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.default=void 0;var io=Lr(ir()),oo=Lr(le());function Lr(e){return e&&e.__esModule?e:{default:e}}function so(e,r,n){e=e||{};let i=e.random||(e.rng||io.default)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,r){n=n||0;for(let t=0;t<16;++t)r[n+t]=i[t];return r}return(0,oo.default)(i)}var co=so;De.default=co});var $r=p(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.default=void 0;var ao=lo(require("crypto"));function lo(e){return e&&e.__esModule?e:{default:e}}function uo(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),ao.default.createHash("sha1").update(e).digest()}var fo=uo;ke.default=fo});var Ur=p(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.default=void 0;var po=Br(lr()),ho=Br($r());function Br(e){return e&&e.__esModule?e:{default:e}}var go=(0,po.default)("v5",80,ho.default),mo=go;Oe.default=mo});var Hr=p(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.default=void 0;var wo="00000000-0000-0000-0000-000000000000";Ie.default=wo});var Yr=p(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.default=void 0;var vo=yo(ae());function yo(e){return e&&e.__esModule?e:{default:e}}function xo(e){if(!(0,vo.default)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var bo=xo;Me.default=bo});var Wr=p(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});Object.defineProperty(I,"v1",{enumerable:!0,get:function(){return Ao.default}});Object.defineProperty(I,"v3",{enumerable:!0,get:function(){return Co.default}});Object.defineProperty(I,"v4",{enumerable:!0,get:function(){return Eo.default}});Object.defineProperty(I,"v5",{enumerable:!0,get:function(){return So.default}});Object.defineProperty(I,"NIL",{enumerable:!0,get:function(){return Fo.default}});Object.defineProperty(I,"version",{enumerable:!0,get:function(){return _o.default}});Object.defineProperty(I,"validate",{enumerable:!0,get:function(){return jo.default}});Object.defineProperty(I,"stringify",{enumerable:!0,get:function(){return Po.default}});Object.defineProperty(I,"parse",{enumerable:!0,get:function(){return To.default}});var Ao=N(Dr()),Co=N(Nr()),Eo=N(Rr()),So=N(Ur()),Fo=N(Hr()),_o=N(Yr()),jo=N(ae()),Po=N(le()),To=N(ar());function N(e){return e&&e.__esModule?e:{default:e}}});var fe=p((Sl,Jr)=>{var Do=Object.prototype.toString;Jr.exports=function(r){if(r===void 0)return"undefined";if(r===null)return"null";var n=typeof r;if(n==="boolean")return"boolean";if(n==="string")return"string";if(n==="number")return"number";if(n==="symbol")return"symbol";if(n==="function")return qo(r)?"generatorfunction":"function";if(ko(r))return"array";if(Ro(r))return"buffer";if(Lo(r))return"arguments";if(Io(r))return"date";if(Oo(r))return"error";if(Mo(r))return"regexp";switch(Qr(r)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(No(r))return"generator";switch(n=Do.call(r),n){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return n.slice(8,-1).toLowerCase().replace(/\s/g,"")};function Qr(e){return typeof e.constructor=="function"?e.constructor.name:null}function ko(e){return Array.isArray?Array.isArray(e):e instanceof Array}function Oo(e){return e instanceof Error||typeof e.message=="string"&&e.constructor&&typeof e.constructor.stackTraceLimit=="number"}function Io(e){return e instanceof Date?!0:typeof e.toDateString=="function"&&typeof e.getDate=="function"&&typeof e.setDate=="function"}function Mo(e){return e instanceof RegExp?!0:typeof e.flags=="string"&&typeof e.ignoreCase=="boolean"&&typeof e.multiline=="boolean"&&typeof e.global=="boolean"}function qo(e,r){return Qr(e)==="GeneratorFunction"}function No(e){return typeof e.throw=="function"&&typeof e.return=="function"&&typeof e.next=="function"}function Lo(e){try{if(typeof e.length=="number"&&typeof e.callee=="function")return!0}catch(r){if(r.message.indexOf("callee")!==-1)return!0}return!1}function Ro(e){return e.constructor&&typeof e.constructor.isBuffer=="function"?e.constructor.isBuffer(e):!1}});var Xr=p((Fl,zr)=>{"use strict";zr.exports=function(r){return typeof r<"u"&&r!==null&&(typeof r=="object"||typeof r=="function")}});var rn=p((_l,en)=>{"use strict";var Zr=Xr();en.exports=function(r){Zr(r)||(r={});for(var n=arguments.length,i=1;i<n;i++){var t=arguments[i];Zr(t)&&$o(r,t)}return r};function $o(e,r){for(var n in r)Bo(r,n)&&(e[n]=r[n])}function Bo(e,r){return Object.prototype.hasOwnProperty.call(e,r)}});var on=p((jl,tn)=>{"use strict";var Uo=fe(),Ho=rn();tn.exports=function(e,r){typeof r=="function"&&(r={parse:r});var n=Wo(e),i={section_delimiter:"---",parse:Ko},t=Ho({},i,r),s=t.section_delimiter,o=n.content.split(/\r?\n/),c=null,a=nn(),l=[],u=[];function f(nr){n.content=nr,c=[],l=[]}function d(nr){u.length&&(a.key=Go(u[0],s),a.content=nr,t.parse(a,c),c.push(a),a=nn(),l=[],u=[])}for(var h=0;h<o.length;h++){var y=o[h],b=u.length,v=y.trim();if(Yo(v,s)){if(v.length===3&&h!==0){if(b===0||b===2){l.push(y);continue}u.push(v),a.data=l.join(`
`),l=[];continue}c===null&&f(l.join(`
`)),b===2&&d(l.join(`
`)),u.push(v);continue}l.push(y)}return c===null?f(l.join(`
`)):d(l.join(`
`)),n.sections=c,n};function Yo(e,r){return!(e.slice(0,r.length)!==r||e.charAt(r.length+1)===r.slice(-1))}function Wo(e){if(Uo(e)!=="object"&&(e={content:e}),typeof e.content!="string"&&!Vo(e.content))throw new TypeError("expected a buffer or string");return e.content=e.content.toString(),e.sections=[],e}function Go(e,r){return e?e.slice(r.length).trim():""}function nn(){return{key:"",data:"",content:""}}function Ko(e){return e}function Vo(e){return e&&e.constructor&&typeof e.constructor.isBuffer=="function"?e.constructor.isBuffer(e):!1}});var G=p((Pl,W)=>{"use strict";function sn(e){return typeof e>"u"||e===null}function Qo(e){return typeof e=="object"&&e!==null}function Jo(e){return Array.isArray(e)?e:sn(e)?[]:[e]}function zo(e,r){var n,i,t,s;if(r)for(s=Object.keys(r),n=0,i=s.length;n<i;n+=1)t=s[n],e[t]=r[t];return e}function Xo(e,r){var n="",i;for(i=0;i<r;i+=1)n+=e;return n}function Zo(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}W.exports.isNothing=sn;W.exports.isObject=Qo;W.exports.toArray=Jo;W.exports.repeat=Xo;W.exports.isNegativeZero=Zo;W.exports.extend=zo});var Z=p((Tl,cn)=>{"use strict";function de(e,r){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=r,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}de.prototype=Object.create(Error.prototype);de.prototype.constructor=de;de.prototype.toString=function(r){var n=this.name+": ";return n+=this.reason||"(unknown reason)",!r&&this.mark&&(n+=" "+this.mark.toString()),n};cn.exports=de});var un=p((Dl,ln)=>{"use strict";var an=G();function ur(e,r,n,i,t){this.name=e,this.buffer=r,this.position=n,this.line=i,this.column=t}ur.prototype.getSnippet=function(r,n){var i,t,s,o,c;if(!this.buffer)return null;for(r=r||4,n=n||75,i="",t=this.position;t>0&&`\0\r
\x85\u2028\u2029`.indexOf(this.buffer.charAt(t-1))===-1;)if(t-=1,this.position-t>n/2-1){i=" ... ",t+=5;break}for(s="",o=this.position;o<this.buffer.length&&`\0\r
\x85\u2028\u2029`.indexOf(this.buffer.charAt(o))===-1;)if(o+=1,o-this.position>n/2-1){s=" ... ",o-=5;break}return c=this.buffer.slice(t,o),an.repeat(" ",r)+i+c+s+`
`+an.repeat(" ",r+this.position-t+i.length)+"^"};ur.prototype.toString=function(r){var n,i="";return this.name&&(i+='in "'+this.name+'" '),i+="at line "+(this.line+1)+", column "+(this.column+1),r||(n=this.getSnippet(),n&&(i+=`:
`+n)),i};ln.exports=ur});var C=p((kl,dn)=>{"use strict";var fn=Z(),es=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],rs=["scalar","sequence","mapping"];function ns(e){var r={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(i){r[String(i)]=n})}),r}function ts(e,r){if(r=r||{},Object.keys(r).forEach(function(n){if(es.indexOf(n)===-1)throw new fn('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.tag=e,this.kind=r.kind||null,this.resolve=r.resolve||function(){return!0},this.construct=r.construct||function(n){return n},this.instanceOf=r.instanceOf||null,this.predicate=r.predicate||null,this.represent=r.represent||null,this.defaultStyle=r.defaultStyle||null,this.styleAliases=ns(r.styleAliases||null),rs.indexOf(this.kind)===-1)throw new fn('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}dn.exports=ts});var K=p((Ol,hn)=>{"use strict";var pn=G(),Re=Z(),is=C();function fr(e,r,n){var i=[];return e.include.forEach(function(t){n=fr(t,r,n)}),e[r].forEach(function(t){n.forEach(function(s,o){s.tag===t.tag&&s.kind===t.kind&&i.push(o)}),n.push(t)}),n.filter(function(t,s){return i.indexOf(s)===-1})}function os(){var e={scalar:{},sequence:{},mapping:{},fallback:{}},r,n;function i(t){e[t.kind][t.tag]=e.fallback[t.tag]=t}for(r=0,n=arguments.length;r<n;r+=1)arguments[r].forEach(i);return e}function ee(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach(function(r){if(r.loadKind&&r.loadKind!=="scalar")throw new Re("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=fr(this,"implicit",[]),this.compiledExplicit=fr(this,"explicit",[]),this.compiledTypeMap=os(this.compiledImplicit,this.compiledExplicit)}ee.DEFAULT=null;ee.create=function(){var r,n;switch(arguments.length){case 1:r=ee.DEFAULT,n=arguments[0];break;case 2:r=arguments[0],n=arguments[1];break;default:throw new Re("Wrong number of arguments for Schema.create function")}if(r=pn.toArray(r),n=pn.toArray(n),!r.every(function(i){return i instanceof ee}))throw new Re("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!n.every(function(i){return i instanceof is}))throw new Re("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new ee({include:r,explicit:n})};hn.exports=ee});var mn=p((Il,gn)=>{"use strict";var ss=C();gn.exports=new ss("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}})});var vn=p((Ml,wn)=>{"use strict";var cs=C();wn.exports=new cs("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}})});var xn=p((ql,yn)=>{"use strict";var as=C();yn.exports=new as("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}})});var $e=p((Nl,bn)=>{"use strict";var ls=K();bn.exports=new ls({explicit:[mn(),vn(),xn()]})});var Cn=p((Ll,An)=>{"use strict";var us=C();function fs(e){if(e===null)return!0;var r=e.length;return r===1&&e==="~"||r===4&&(e==="null"||e==="Null"||e==="NULL")}function ds(){return null}function ps(e){return e===null}An.exports=new us("tag:yaml.org,2002:null",{kind:"scalar",resolve:fs,construct:ds,predicate:ps,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})});var Sn=p((Rl,En)=>{"use strict";var hs=C();function gs(e){if(e===null)return!1;var r=e.length;return r===4&&(e==="true"||e==="True"||e==="TRUE")||r===5&&(e==="false"||e==="False"||e==="FALSE")}function ms(e){return e==="true"||e==="True"||e==="TRUE"}function ws(e){return Object.prototype.toString.call(e)==="[object Boolean]"}En.exports=new hs("tag:yaml.org,2002:bool",{kind:"scalar",resolve:gs,construct:ms,predicate:ws,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})});var _n=p(($l,Fn)=>{"use strict";var vs=G(),ys=C();function xs(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function bs(e){return 48<=e&&e<=55}function As(e){return 48<=e&&e<=57}function Cs(e){if(e===null)return!1;var r=e.length,n=0,i=!1,t;if(!r)return!1;if(t=e[n],(t==="-"||t==="+")&&(t=e[++n]),t==="0"){if(n+1===r)return!0;if(t=e[++n],t==="b"){for(n++;n<r;n++)if(t=e[n],t!=="_"){if(t!=="0"&&t!=="1")return!1;i=!0}return i&&t!=="_"}if(t==="x"){for(n++;n<r;n++)if(t=e[n],t!=="_"){if(!xs(e.charCodeAt(n)))return!1;i=!0}return i&&t!=="_"}for(;n<r;n++)if(t=e[n],t!=="_"){if(!bs(e.charCodeAt(n)))return!1;i=!0}return i&&t!=="_"}if(t==="_")return!1;for(;n<r;n++)if(t=e[n],t!=="_"){if(t===":")break;if(!As(e.charCodeAt(n)))return!1;i=!0}return!i||t==="_"?!1:t!==":"?!0:/^(:[0-5]?[0-9])+$/.test(e.slice(n))}function Es(e){var r=e,n=1,i,t,s=[];return r.indexOf("_")!==-1&&(r=r.replace(/_/g,"")),i=r[0],(i==="-"||i==="+")&&(i==="-"&&(n=-1),r=r.slice(1),i=r[0]),r==="0"?0:i==="0"?r[1]==="b"?n*parseInt(r.slice(2),2):r[1]==="x"?n*parseInt(r,16):n*parseInt(r,8):r.indexOf(":")!==-1?(r.split(":").forEach(function(o){s.unshift(parseInt(o,10))}),r=0,t=1,s.forEach(function(o){r+=o*t,t*=60}),n*r):n*parseInt(r,10)}function Ss(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!vs.isNegativeZero(e)}Fn.exports=new ys("tag:yaml.org,2002:int",{kind:"scalar",resolve:Cs,construct:Es,predicate:Ss,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0"+e.toString(8):"-0"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})});var Tn=p((Bl,Pn)=>{"use strict";var jn=G(),Fs=C(),_s=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function js(e){return!(e===null||!_s.test(e)||e[e.length-1]==="_")}function Ps(e){var r,n,i,t;return r=e.replace(/_/g,"").toLowerCase(),n=r[0]==="-"?-1:1,t=[],"+-".indexOf(r[0])>=0&&(r=r.slice(1)),r===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:r===".nan"?NaN:r.indexOf(":")>=0?(r.split(":").forEach(function(s){t.unshift(parseFloat(s,10))}),r=0,i=1,t.forEach(function(s){r+=s*i,i*=60}),n*r):n*parseFloat(r,10)}var Ts=/^[-+]?[0-9]+e/;function Ds(e,r){var n;if(isNaN(e))switch(r){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(r){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(r){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(jn.isNegativeZero(e))return"-0.0";return n=e.toString(10),Ts.test(n)?n.replace("e",".e"):n}function ks(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||jn.isNegativeZero(e))}Pn.exports=new Fs("tag:yaml.org,2002:float",{kind:"scalar",resolve:js,construct:Ps,predicate:ks,represent:Ds,defaultStyle:"lowercase"})});var dr=p((Ul,Dn)=>{"use strict";var Os=K();Dn.exports=new Os({include:[$e()],implicit:[Cn(),Sn(),_n(),Tn()]})});var pr=p((Hl,kn)=>{"use strict";var Is=K();kn.exports=new Is({include:[dr()]})});var qn=p((Yl,Mn)=>{"use strict";var Ms=C(),On=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),In=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function qs(e){return e===null?!1:On.exec(e)!==null||In.exec(e)!==null}function Ns(e){var r,n,i,t,s,o,c,a=0,l=null,u,f,d;if(r=On.exec(e),r===null&&(r=In.exec(e)),r===null)throw new Error("Date resolve error");if(n=+r[1],i=+r[2]-1,t=+r[3],!r[4])return new Date(Date.UTC(n,i,t));if(s=+r[4],o=+r[5],c=+r[6],r[7]){for(a=r[7].slice(0,3);a.length<3;)a+="0";a=+a}return r[9]&&(u=+r[10],f=+(r[11]||0),l=(u*60+f)*6e4,r[9]==="-"&&(l=-l)),d=new Date(Date.UTC(n,i,t,s,o,c,a)),l&&d.setTime(d.getTime()-l),d}function Ls(e){return e.toISOString()}Mn.exports=new Ms("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:qs,construct:Ns,instanceOf:Date,represent:Ls})});var Ln=p((Wl,Nn)=>{"use strict";var Rs=C();function $s(e){return e==="<<"||e===null}Nn.exports=new Rs("tag:yaml.org,2002:merge",{kind:"scalar",resolve:$s})});var Bn=p((Gl,$n)=>{"use strict";var V;try{Rn=require,V=Rn("buffer").Buffer}catch{}var Rn,Bs=C(),hr=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Us(e){if(e===null)return!1;var r,n,i=0,t=e.length,s=hr;for(n=0;n<t;n++)if(r=s.indexOf(e.charAt(n)),!(r>64)){if(r<0)return!1;i+=6}return i%8===0}function Hs(e){var r,n,i=e.replace(/[\r\n=]/g,""),t=i.length,s=hr,o=0,c=[];for(r=0;r<t;r++)r%4===0&&r&&(c.push(o>>16&255),c.push(o>>8&255),c.push(o&255)),o=o<<6|s.indexOf(i.charAt(r));return n=t%4*6,n===0?(c.push(o>>16&255),c.push(o>>8&255),c.push(o&255)):n===18?(c.push(o>>10&255),c.push(o>>2&255)):n===12&&c.push(o>>4&255),V?V.from?V.from(c):new V(c):c}function Ys(e){var r="",n=0,i,t,s=e.length,o=hr;for(i=0;i<s;i++)i%3===0&&i&&(r+=o[n>>18&63],r+=o[n>>12&63],r+=o[n>>6&63],r+=o[n&63]),n=(n<<8)+e[i];return t=s%3,t===0?(r+=o[n>>18&63],r+=o[n>>12&63],r+=o[n>>6&63],r+=o[n&63]):t===2?(r+=o[n>>10&63],r+=o[n>>4&63],r+=o[n<<2&63],r+=o[64]):t===1&&(r+=o[n>>2&63],r+=o[n<<4&63],r+=o[64],r+=o[64]),r}function Ws(e){return V&&V.isBuffer(e)}$n.exports=new Bs("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Us,construct:Hs,predicate:Ws,represent:Ys})});var Hn=p((Kl,Un)=>{"use strict";var Gs=C(),Ks=Object.prototype.hasOwnProperty,Vs=Object.prototype.toString;function Qs(e){if(e===null)return!0;var r=[],n,i,t,s,o,c=e;for(n=0,i=c.length;n<i;n+=1){if(t=c[n],o=!1,Vs.call(t)!=="[object Object]")return!1;for(s in t)if(Ks.call(t,s))if(!o)o=!0;else return!1;if(!o)return!1;if(r.indexOf(s)===-1)r.push(s);else return!1}return!0}function Js(e){return e!==null?e:[]}Un.exports=new Gs("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Qs,construct:Js})});var Wn=p((Vl,Yn)=>{"use strict";var zs=C(),Xs=Object.prototype.toString;function Zs(e){if(e===null)return!0;var r,n,i,t,s,o=e;for(s=new Array(o.length),r=0,n=o.length;r<n;r+=1){if(i=o[r],Xs.call(i)!=="[object Object]"||(t=Object.keys(i),t.length!==1))return!1;s[r]=[t[0],i[t[0]]]}return!0}function ec(e){if(e===null)return[];var r,n,i,t,s,o=e;for(s=new Array(o.length),r=0,n=o.length;r<n;r+=1)i=o[r],t=Object.keys(i),s[r]=[t[0],i[t[0]]];return s}Yn.exports=new zs("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Zs,construct:ec})});var Kn=p((Ql,Gn)=>{"use strict";var rc=C(),nc=Object.prototype.hasOwnProperty;function tc(e){if(e===null)return!0;var r,n=e;for(r in n)if(nc.call(n,r)&&n[r]!==null)return!1;return!0}function ic(e){return e!==null?e:{}}Gn.exports=new rc("tag:yaml.org,2002:set",{kind:"mapping",resolve:tc,construct:ic})});var re=p((Jl,Vn)=>{"use strict";var oc=K();Vn.exports=new oc({include:[pr()],implicit:[qn(),Ln()],explicit:[Bn(),Hn(),Wn(),Kn()]})});var Jn=p((zl,Qn)=>{"use strict";var sc=C();function cc(){return!0}function ac(){}function lc(){return""}function uc(e){return typeof e>"u"}Qn.exports=new sc("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:cc,construct:ac,predicate:uc,represent:lc})});var Xn=p((Xl,zn)=>{"use strict";var fc=C();function dc(e){if(e===null||e.length===0)return!1;var r=e,n=/\/([gim]*)$/.exec(e),i="";return!(r[0]==="/"&&(n&&(i=n[1]),i.length>3||r[r.length-i.length-1]!=="/"))}function pc(e){var r=e,n=/\/([gim]*)$/.exec(e),i="";return r[0]==="/"&&(n&&(i=n[1]),r=r.slice(1,r.length-i.length-1)),new RegExp(r,i)}function hc(e){var r="/"+e.source+"/";return e.global&&(r+="g"),e.multiline&&(r+="m"),e.ignoreCase&&(r+="i"),r}function gc(e){return Object.prototype.toString.call(e)==="[object RegExp]"}zn.exports=new fc("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:dc,construct:pc,predicate:gc,represent:hc})});var rt=p((Zl,et)=>{"use strict";var Be;try{Zn=require,Be=Zn("esprima")}catch{typeof window<"u"&&(Be=window.esprima)}var Zn,mc=C();function wc(e){if(e===null)return!1;try{var r="("+e+")",n=Be.parse(r,{range:!0});return!(n.type!=="Program"||n.body.length!==1||n.body[0].type!=="ExpressionStatement"||n.body[0].expression.type!=="ArrowFunctionExpression"&&n.body[0].expression.type!=="FunctionExpression")}catch{return!1}}function vc(e){var r="("+e+")",n=Be.parse(r,{range:!0}),i=[],t;if(n.type!=="Program"||n.body.length!==1||n.body[0].type!=="ExpressionStatement"||n.body[0].expression.type!=="ArrowFunctionExpression"&&n.body[0].expression.type!=="FunctionExpression")throw new Error("Failed to resolve function");return n.body[0].expression.params.forEach(function(s){i.push(s.name)}),t=n.body[0].expression.body.range,n.body[0].expression.body.type==="BlockStatement"?new Function(i,r.slice(t[0]+1,t[1]-1)):new Function(i,"return "+r.slice(t[0],t[1]))}function yc(e){return e.toString()}function xc(e){return Object.prototype.toString.call(e)==="[object Function]"}et.exports=new mc("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:wc,construct:vc,predicate:xc,represent:yc})});var pe=p((eu,tt)=>{"use strict";var nt=K();tt.exports=nt.DEFAULT=new nt({include:[re()],explicit:[Jn(),Xn(),rt()]})});var At=p((ru,he)=>{"use strict";var L=G(),ut=Z(),bc=un(),ft=re(),Ac=pe(),B=Object.prototype.hasOwnProperty,Ue=1,dt=2,pt=3,He=4,gr=1,Cc=2,it=3,Ec=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Sc=/[\x85\u2028\u2029]/,Fc=/[,\[\]\{\}]/,ht=/^(?:!|!!|![a-z\-]+!)$/i,gt=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function ot(e){return Object.prototype.toString.call(e)}function q(e){return e===10||e===13}function J(e){return e===9||e===32}function T(e){return e===9||e===32||e===10||e===13}function ne(e){return e===44||e===91||e===93||e===123||e===125}function _c(e){var r;return 48<=e&&e<=57?e-48:(r=e|32,97<=r&&r<=102?r-97+10:-1)}function jc(e){return e===120?2:e===117?4:e===85?8:0}function Pc(e){return 48<=e&&e<=57?e-48:-1}function st(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function Tc(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var mt=new Array(256),wt=new Array(256);for(Q=0;Q<256;Q++)mt[Q]=st(Q)?1:0,wt[Q]=st(Q);var Q;function Dc(e,r){this.input=e,this.filename=r.filename||null,this.schema=r.schema||Ac,this.onWarning=r.onWarning||null,this.legacy=r.legacy||!1,this.json=r.json||!1,this.listener=r.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function vt(e,r){return new ut(r,new bc(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function g(e,r){throw vt(e,r)}function Ye(e,r){e.onWarning&&e.onWarning.call(null,vt(e,r))}var ct={YAML:function(r,n,i){var t,s,o;r.version!==null&&g(r,"duplication of %YAML directive"),i.length!==1&&g(r,"YAML directive accepts exactly one argument"),t=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),t===null&&g(r,"ill-formed argument of the YAML directive"),s=parseInt(t[1],10),o=parseInt(t[2],10),s!==1&&g(r,"unacceptable YAML version of the document"),r.version=i[0],r.checkLineBreaks=o<2,o!==1&&o!==2&&Ye(r,"unsupported YAML version of the document")},TAG:function(r,n,i){var t,s;i.length!==2&&g(r,"TAG directive accepts exactly two arguments"),t=i[0],s=i[1],ht.test(t)||g(r,"ill-formed tag handle (first argument) of the TAG directive"),B.call(r.tagMap,t)&&g(r,'there is a previously declared suffix for "'+t+'" tag handle'),gt.test(s)||g(r,"ill-formed tag prefix (second argument) of the TAG directive"),r.tagMap[t]=s}};function $(e,r,n,i){var t,s,o,c;if(r<n){if(c=e.input.slice(r,n),i)for(t=0,s=c.length;t<s;t+=1)o=c.charCodeAt(t),o===9||32<=o&&o<=1114111||g(e,"expected valid JSON character");else Ec.test(c)&&g(e,"the stream contains non-printable characters");e.result+=c}}function at(e,r,n,i){var t,s,o,c;for(L.isObject(n)||g(e,"cannot merge mappings; the provided source object is unacceptable"),t=Object.keys(n),o=0,c=t.length;o<c;o+=1)s=t[o],B.call(r,s)||(r[s]=n[s],i[s]=!0)}function te(e,r,n,i,t,s,o,c){var a,l;if(Array.isArray(t))for(t=Array.prototype.slice.call(t),a=0,l=t.length;a<l;a+=1)Array.isArray(t[a])&&g(e,"nested arrays are not supported inside keys"),typeof t=="object"&&ot(t[a])==="[object Object]"&&(t[a]="[object Object]");if(typeof t=="object"&&ot(t)==="[object Object]"&&(t="[object Object]"),t=String(t),r===null&&(r={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(a=0,l=s.length;a<l;a+=1)at(e,r,s[a],n);else at(e,r,s,n);else!e.json&&!B.call(n,t)&&B.call(r,t)&&(e.line=o||e.line,e.position=c||e.position,g(e,"duplicated mapping key")),r[t]=s,delete n[t];return r}function mr(e){var r;r=e.input.charCodeAt(e.position),r===10?e.position++:r===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):g(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function A(e,r,n){for(var i=0,t=e.input.charCodeAt(e.position);t!==0;){for(;J(t);)t=e.input.charCodeAt(++e.position);if(r&&t===35)do t=e.input.charCodeAt(++e.position);while(t!==10&&t!==13&&t!==0);if(q(t))for(mr(e),t=e.input.charCodeAt(e.position),i++,e.lineIndent=0;t===32;)e.lineIndent++,t=e.input.charCodeAt(++e.position);else break}return n!==-1&&i!==0&&e.lineIndent<n&&Ye(e,"deficient indentation"),i}function We(e){var r=e.position,n;return n=e.input.charCodeAt(r),!!((n===45||n===46)&&n===e.input.charCodeAt(r+1)&&n===e.input.charCodeAt(r+2)&&(r+=3,n=e.input.charCodeAt(r),n===0||T(n)))}function wr(e,r){r===1?e.result+=" ":r>1&&(e.result+=L.repeat(`
`,r-1))}function kc(e,r,n){var i,t,s,o,c,a,l,u,f=e.kind,d=e.result,h;if(h=e.input.charCodeAt(e.position),T(h)||ne(h)||h===35||h===38||h===42||h===33||h===124||h===62||h===39||h===34||h===37||h===64||h===96||(h===63||h===45)&&(t=e.input.charCodeAt(e.position+1),T(t)||n&&ne(t)))return!1;for(e.kind="scalar",e.result="",s=o=e.position,c=!1;h!==0;){if(h===58){if(t=e.input.charCodeAt(e.position+1),T(t)||n&&ne(t))break}else if(h===35){if(i=e.input.charCodeAt(e.position-1),T(i))break}else{if(e.position===e.lineStart&&We(e)||n&&ne(h))break;if(q(h))if(a=e.line,l=e.lineStart,u=e.lineIndent,A(e,!1,-1),e.lineIndent>=r){c=!0,h=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=a,e.lineStart=l,e.lineIndent=u;break}}c&&($(e,s,o,!1),wr(e,e.line-a),s=o=e.position,c=!1),J(h)||(o=e.position+1),h=e.input.charCodeAt(++e.position)}return $(e,s,o,!1),e.result?!0:(e.kind=f,e.result=d,!1)}function Oc(e,r){var n,i,t;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,i=t=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if($(e,i,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)i=e.position,e.position++,t=e.position;else return!0;else q(n)?($(e,i,t,!0),wr(e,A(e,!1,r)),i=t=e.position):e.position===e.lineStart&&We(e)?g(e,"unexpected end of the document within a single quoted scalar"):(e.position++,t=e.position);g(e,"unexpected end of the stream within a single quoted scalar")}function Ic(e,r){var n,i,t,s,o,c;if(c=e.input.charCodeAt(e.position),c!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(c=e.input.charCodeAt(e.position))!==0;){if(c===34)return $(e,n,e.position,!0),e.position++,!0;if(c===92){if($(e,n,e.position,!0),c=e.input.charCodeAt(++e.position),q(c))A(e,!1,r);else if(c<256&&mt[c])e.result+=wt[c],e.position++;else if((o=jc(c))>0){for(t=o,s=0;t>0;t--)c=e.input.charCodeAt(++e.position),(o=_c(c))>=0?s=(s<<4)+o:g(e,"expected hexadecimal character");e.result+=Tc(s),e.position++}else g(e,"unknown escape sequence");n=i=e.position}else q(c)?($(e,n,i,!0),wr(e,A(e,!1,r)),n=i=e.position):e.position===e.lineStart&&We(e)?g(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}g(e,"unexpected end of the stream within a double quoted scalar")}function Mc(e,r){var n=!0,i,t=e.tag,s,o=e.anchor,c,a,l,u,f,d={},h,y,b,v;if(v=e.input.charCodeAt(e.position),v===91)a=93,f=!1,s=[];else if(v===123)a=125,f=!0,s={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),v=e.input.charCodeAt(++e.position);v!==0;){if(A(e,!0,r),v=e.input.charCodeAt(e.position),v===a)return e.position++,e.tag=t,e.anchor=o,e.kind=f?"mapping":"sequence",e.result=s,!0;n||g(e,"missed comma between flow collection entries"),y=h=b=null,l=u=!1,v===63&&(c=e.input.charCodeAt(e.position+1),T(c)&&(l=u=!0,e.position++,A(e,!0,r))),i=e.line,ie(e,r,Ue,!1,!0),y=e.tag,h=e.result,A(e,!0,r),v=e.input.charCodeAt(e.position),(u||e.line===i)&&v===58&&(l=!0,v=e.input.charCodeAt(++e.position),A(e,!0,r),ie(e,r,Ue,!1,!0),b=e.result),f?te(e,s,d,y,h,b):l?s.push(te(e,null,d,y,h,b)):s.push(h),A(e,!0,r),v=e.input.charCodeAt(e.position),v===44?(n=!0,v=e.input.charCodeAt(++e.position)):n=!1}g(e,"unexpected end of the stream within a flow collection")}function qc(e,r){var n,i,t=gr,s=!1,o=!1,c=r,a=0,l=!1,u,f;if(f=e.input.charCodeAt(e.position),f===124)i=!1;else if(f===62)i=!0;else return!1;for(e.kind="scalar",e.result="";f!==0;)if(f=e.input.charCodeAt(++e.position),f===43||f===45)gr===t?t=f===43?it:Cc:g(e,"repeat of a chomping mode identifier");else if((u=Pc(f))>=0)u===0?g(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?g(e,"repeat of an indentation width identifier"):(c=r+u-1,o=!0);else break;if(J(f)){do f=e.input.charCodeAt(++e.position);while(J(f));if(f===35)do f=e.input.charCodeAt(++e.position);while(!q(f)&&f!==0)}for(;f!==0;){for(mr(e),e.lineIndent=0,f=e.input.charCodeAt(e.position);(!o||e.lineIndent<c)&&f===32;)e.lineIndent++,f=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>c&&(c=e.lineIndent),q(f)){a++;continue}if(e.lineIndent<c){t===it?e.result+=L.repeat(`
`,s?1+a:a):t===gr&&s&&(e.result+=`
`);break}for(i?J(f)?(l=!0,e.result+=L.repeat(`
`,s?1+a:a)):l?(l=!1,e.result+=L.repeat(`
`,a+1)):a===0?s&&(e.result+=" "):e.result+=L.repeat(`
`,a):e.result+=L.repeat(`
`,s?1+a:a),s=!0,o=!0,a=0,n=e.position;!q(f)&&f!==0;)f=e.input.charCodeAt(++e.position);$(e,n,e.position,!1)}return!0}function lt(e,r){var n,i=e.tag,t=e.anchor,s=[],o,c=!1,a;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),a=e.input.charCodeAt(e.position);a!==0&&!(a!==45||(o=e.input.charCodeAt(e.position+1),!T(o)));){if(c=!0,e.position++,A(e,!0,-1)&&e.lineIndent<=r){s.push(null),a=e.input.charCodeAt(e.position);continue}if(n=e.line,ie(e,r,pt,!1,!0),s.push(e.result),A(e,!0,-1),a=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>r)&&a!==0)g(e,"bad indentation of a sequence entry");else if(e.lineIndent<r)break}return c?(e.tag=i,e.anchor=t,e.kind="sequence",e.result=s,!0):!1}function Nc(e,r,n){var i,t,s,o,c=e.tag,a=e.anchor,l={},u={},f=null,d=null,h=null,y=!1,b=!1,v;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),v=e.input.charCodeAt(e.position);v!==0;){if(i=e.input.charCodeAt(e.position+1),s=e.line,o=e.position,(v===63||v===58)&&T(i))v===63?(y&&(te(e,l,u,f,d,null),f=d=h=null),b=!0,y=!0,t=!0):y?(y=!1,t=!0):g(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,v=i;else if(ie(e,n,dt,!1,!0))if(e.line===s){for(v=e.input.charCodeAt(e.position);J(v);)v=e.input.charCodeAt(++e.position);if(v===58)v=e.input.charCodeAt(++e.position),T(v)||g(e,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(te(e,l,u,f,d,null),f=d=h=null),b=!0,y=!1,t=!1,f=e.tag,d=e.result;else if(b)g(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=a,!0}else if(b)g(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=a,!0;else break;if((e.line===s||e.lineIndent>r)&&(ie(e,r,He,!0,t)&&(y?d=e.result:h=e.result),y||(te(e,l,u,f,d,h,s,o),f=d=h=null),A(e,!0,-1),v=e.input.charCodeAt(e.position)),e.lineIndent>r&&v!==0)g(e,"bad indentation of a mapping entry");else if(e.lineIndent<r)break}return y&&te(e,l,u,f,d,null),b&&(e.tag=c,e.anchor=a,e.kind="mapping",e.result=l),b}function Lc(e){var r,n=!1,i=!1,t,s,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&g(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(n=!0,o=e.input.charCodeAt(++e.position)):o===33?(i=!0,t="!!",o=e.input.charCodeAt(++e.position)):t="!",r=e.position,n){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(s=e.input.slice(r,e.position),o=e.input.charCodeAt(++e.position)):g(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!T(o);)o===33&&(i?g(e,"tag suffix cannot contain exclamation marks"):(t=e.input.slice(r-1,e.position+1),ht.test(t)||g(e,"named tag handle cannot contain such characters"),i=!0,r=e.position+1)),o=e.input.charCodeAt(++e.position);s=e.input.slice(r,e.position),Fc.test(s)&&g(e,"tag suffix cannot contain flow indicator characters")}return s&&!gt.test(s)&&g(e,"tag name cannot contain such characters: "+s),n?e.tag=s:B.call(e.tagMap,t)?e.tag=e.tagMap[t]+s:t==="!"?e.tag="!"+s:t==="!!"?e.tag="tag:yaml.org,2002:"+s:g(e,'undeclared tag handle "'+t+'"'),!0}function Rc(e){var r,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&g(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),r=e.position;n!==0&&!T(n)&&!ne(n);)n=e.input.charCodeAt(++e.position);return e.position===r&&g(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(r,e.position),!0}function $c(e){var r,n,i;if(i=e.input.charCodeAt(e.position),i!==42)return!1;for(i=e.input.charCodeAt(++e.position),r=e.position;i!==0&&!T(i)&&!ne(i);)i=e.input.charCodeAt(++e.position);return e.position===r&&g(e,"name of an alias node must contain at least one character"),n=e.input.slice(r,e.position),B.call(e.anchorMap,n)||g(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],A(e,!0,-1),!0}function ie(e,r,n,i,t){var s,o,c,a=1,l=!1,u=!1,f,d,h,y,b;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=c=He===n||pt===n,i&&A(e,!0,-1)&&(l=!0,e.lineIndent>r?a=1:e.lineIndent===r?a=0:e.lineIndent<r&&(a=-1)),a===1)for(;Lc(e)||Rc(e);)A(e,!0,-1)?(l=!0,c=s,e.lineIndent>r?a=1:e.lineIndent===r?a=0:e.lineIndent<r&&(a=-1)):c=!1;if(c&&(c=l||t),(a===1||He===n)&&(Ue===n||dt===n?y=r:y=r+1,b=e.position-e.lineStart,a===1?c&&(lt(e,b)||Nc(e,b,y))||Mc(e,y)?u=!0:(o&&qc(e,y)||Oc(e,y)||Ic(e,y)?u=!0:$c(e)?(u=!0,(e.tag!==null||e.anchor!==null)&&g(e,"alias node should not have any properties")):kc(e,y,Ue===n)&&(u=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):a===0&&(u=c&&lt(e,b))),e.tag!==null&&e.tag!=="!")if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&g(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),f=0,d=e.implicitTypes.length;f<d;f+=1)if(h=e.implicitTypes[f],h.resolve(e.result)){e.result=h.construct(e.result),e.tag=h.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else B.call(e.typeMap[e.kind||"fallback"],e.tag)?(h=e.typeMap[e.kind||"fallback"][e.tag],e.result!==null&&h.kind!==e.kind&&g(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+h.kind+'", not "'+e.kind+'"'),h.resolve(e.result)?(e.result=h.construct(e.result),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):g(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):g(e,"unknown tag !<"+e.tag+">");return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||u}function Bc(e){var r=e.position,n,i,t,s=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};(o=e.input.charCodeAt(e.position))!==0&&(A(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(s=!0,o=e.input.charCodeAt(++e.position),n=e.position;o!==0&&!T(o);)o=e.input.charCodeAt(++e.position);for(i=e.input.slice(n,e.position),t=[],i.length<1&&g(e,"directive name must not be less than one character in length");o!==0;){for(;J(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!q(o));break}if(q(o))break;for(n=e.position;o!==0&&!T(o);)o=e.input.charCodeAt(++e.position);t.push(e.input.slice(n,e.position))}o!==0&&mr(e),B.call(ct,i)?ct[i](e,i,t):Ye(e,'unknown document directive "'+i+'"')}if(A(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,A(e,!0,-1)):s&&g(e,"directives end mark is expected"),ie(e,e.lineIndent-1,He,!1,!0),A(e,!0,-1),e.checkLineBreaks&&Sc.test(e.input.slice(r,e.position))&&Ye(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&We(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,A(e,!0,-1));return}if(e.position<e.length-1)g(e,"end of the stream or a document separator is expected");else return}function yt(e,r){e=String(e),r=r||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new Dc(e,r),i=e.indexOf("\0");for(i!==-1&&(n.position=i,g(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)Bc(n);return n.documents}function xt(e,r,n){r!==null&&typeof r=="object"&&typeof n>"u"&&(n=r,r=null);var i=yt(e,n);if(typeof r!="function")return i;for(var t=0,s=i.length;t<s;t+=1)r(i[t])}function bt(e,r){var n=yt(e,r);if(n.length!==0){if(n.length===1)return n[0];throw new ut("expected a single document in the stream, but found more")}}function Uc(e,r,n){return typeof r=="object"&&r!==null&&typeof n>"u"&&(n=r,r=null),xt(e,r,L.extend({schema:ft},n))}function Hc(e,r){return bt(e,L.extend({schema:ft},r))}he.exports.loadAll=xt;he.exports.load=bt;he.exports.safeLoadAll=Uc;he.exports.safeLoad=Hc});var Wt=p((nu,br)=>{"use strict";var me=G(),we=Z(),Yc=pe(),Wc=re(),Tt=Object.prototype.toString,Dt=Object.prototype.hasOwnProperty,Gc=9,ge=10,Kc=13,Vc=32,Qc=33,Jc=34,kt=35,zc=37,Xc=38,Zc=39,ea=42,Ot=44,ra=45,It=58,na=61,ta=62,ia=63,oa=64,Mt=91,qt=93,sa=96,Nt=123,ca=124,Lt=125,_={};_[0]="\\0";_[7]="\\a";_[8]="\\b";_[9]="\\t";_[10]="\\n";_[11]="\\v";_[12]="\\f";_[13]="\\r";_[27]="\\e";_[34]='\\"';_[92]="\\\\";_[133]="\\N";_[160]="\\_";_[8232]="\\L";_[8233]="\\P";var aa=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function la(e,r){var n,i,t,s,o,c,a;if(r===null)return{};for(n={},i=Object.keys(r),t=0,s=i.length;t<s;t+=1)o=i[t],c=String(r[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),a=e.compiledTypeMap.fallback[o],a&&Dt.call(a.styleAliases,c)&&(c=a.styleAliases[c]),n[o]=c;return n}function Ct(e){var r,n,i;if(r=e.toString(16).toUpperCase(),e<=255)n="x",i=2;else if(e<=65535)n="u",i=4;else if(e<=4294967295)n="U",i=8;else throw new we("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+me.repeat("0",i-r.length)+r}function ua(e){this.schema=e.schema||Yc,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=me.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=la(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Et(e,r){for(var n=me.repeat(" ",r),i=0,t=-1,s="",o,c=e.length;i<c;)t=e.indexOf(`
`,i),t===-1?(o=e.slice(i),i=c):(o=e.slice(i,t+1),i=t+1),o.length&&o!==`
`&&(s+=n),s+=o;return s}function vr(e,r){return`
`+me.repeat(" ",e.indent*r)}function fa(e,r){var n,i,t;for(n=0,i=e.implicitTypes.length;n<i;n+=1)if(t=e.implicitTypes[n],t.resolve(r))return!0;return!1}function xr(e){return e===Vc||e===Gc}function oe(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==65279||65536<=e&&e<=1114111}function da(e){return oe(e)&&!xr(e)&&e!==65279&&e!==Kc&&e!==ge}function St(e,r){return oe(e)&&e!==65279&&e!==Ot&&e!==Mt&&e!==qt&&e!==Nt&&e!==Lt&&e!==It&&(e!==kt||r&&da(r))}function pa(e){return oe(e)&&e!==65279&&!xr(e)&&e!==ra&&e!==ia&&e!==It&&e!==Ot&&e!==Mt&&e!==qt&&e!==Nt&&e!==Lt&&e!==kt&&e!==Xc&&e!==ea&&e!==Qc&&e!==ca&&e!==na&&e!==ta&&e!==Zc&&e!==Jc&&e!==zc&&e!==oa&&e!==sa}function Rt(e){var r=/^\n* /;return r.test(e)}var $t=1,Bt=2,Ut=3,Ht=4,Ge=5;function ha(e,r,n,i,t){var s,o,c,a=!1,l=!1,u=i!==-1,f=-1,d=pa(e.charCodeAt(0))&&!xr(e.charCodeAt(e.length-1));if(r)for(s=0;s<e.length;s++){if(o=e.charCodeAt(s),!oe(o))return Ge;c=s>0?e.charCodeAt(s-1):null,d=d&&St(o,c)}else{for(s=0;s<e.length;s++){if(o=e.charCodeAt(s),o===ge)a=!0,u&&(l=l||s-f-1>i&&e[f+1]!==" ",f=s);else if(!oe(o))return Ge;c=s>0?e.charCodeAt(s-1):null,d=d&&St(o,c)}l=l||u&&s-f-1>i&&e[f+1]!==" "}return!a&&!l?d&&!t(e)?$t:Bt:n>9&&Rt(e)?Ge:l?Ht:Ut}function ga(e,r,n,i){e.dump=function(){if(r.length===0)return"''";if(!e.noCompatMode&&aa.indexOf(r)!==-1)return"'"+r+"'";var t=e.indent*Math.max(1,n),s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-t),o=i||e.flowLevel>-1&&n>=e.flowLevel;function c(a){return fa(e,a)}switch(ha(r,o,e.indent,s,c)){case $t:return r;case Bt:return"'"+r.replace(/'/g,"''")+"'";case Ut:return"|"+Ft(r,e.indent)+_t(Et(r,t));case Ht:return">"+Ft(r,e.indent)+_t(Et(ma(r,s),t));case Ge:return'"'+wa(r,s)+'"';default:throw new we("impossible error: invalid scalar style")}}()}function Ft(e,r){var n=Rt(e)?String(r):"",i=e[e.length-1]===`
`,t=i&&(e[e.length-2]===`
`||e===`
`),s=t?"+":i?"":"-";return n+s+`
`}function _t(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function ma(e,r){for(var n=/(\n+)([^\n]*)/g,i=function(){var l=e.indexOf(`
`);return l=l!==-1?l:e.length,n.lastIndex=l,jt(e.slice(0,l),r)}(),t=e[0]===`
`||e[0]===" ",s,o;o=n.exec(e);){var c=o[1],a=o[2];s=a[0]===" ",i+=c+(!t&&!s&&a!==""?`
`:"")+jt(a,r),t=s}return i}function jt(e,r){if(e===""||e[0]===" ")return e;for(var n=/ [^ ]/g,i,t=0,s,o=0,c=0,a="";i=n.exec(e);)c=i.index,c-t>r&&(s=o>t?o:c,a+=`
`+e.slice(t,s),t=s+1),o=c;return a+=`
`,e.length-t>r&&o>t?a+=e.slice(t,o)+`
`+e.slice(o+1):a+=e.slice(t),a.slice(1)}function wa(e){for(var r="",n,i,t,s=0;s<e.length;s++){if(n=e.charCodeAt(s),n>=55296&&n<=56319&&(i=e.charCodeAt(s+1),i>=56320&&i<=57343)){r+=Ct((n-55296)*1024+i-56320+65536),s++;continue}t=_[n],r+=!t&&oe(n)?e[s]:t||Ct(n)}return r}function va(e,r,n){var i="",t=e.tag,s,o;for(s=0,o=n.length;s<o;s+=1)z(e,r,n[s],!1,!1)&&(s!==0&&(i+=","+(e.condenseFlow?"":" ")),i+=e.dump);e.tag=t,e.dump="["+i+"]"}function ya(e,r,n,i){var t="",s=e.tag,o,c;for(o=0,c=n.length;o<c;o+=1)z(e,r+1,n[o],!0,!0)&&((!i||o!==0)&&(t+=vr(e,r)),e.dump&&ge===e.dump.charCodeAt(0)?t+="-":t+="- ",t+=e.dump);e.tag=s,e.dump=t||"[]"}function xa(e,r,n){var i="",t=e.tag,s=Object.keys(n),o,c,a,l,u;for(o=0,c=s.length;o<c;o+=1)u="",o!==0&&(u+=", "),e.condenseFlow&&(u+='"'),a=s[o],l=n[a],z(e,r,a,!1,!1)&&(e.dump.length>1024&&(u+="? "),u+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),z(e,r,l,!1,!1)&&(u+=e.dump,i+=u));e.tag=t,e.dump="{"+i+"}"}function ba(e,r,n,i){var t="",s=e.tag,o=Object.keys(n),c,a,l,u,f,d;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new we("sortKeys must be a boolean or a function");for(c=0,a=o.length;c<a;c+=1)d="",(!i||c!==0)&&(d+=vr(e,r)),l=o[c],u=n[l],z(e,r+1,l,!0,!0,!0)&&(f=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,f&&(e.dump&&ge===e.dump.charCodeAt(0)?d+="?":d+="? "),d+=e.dump,f&&(d+=vr(e,r)),z(e,r+1,u,!0,f)&&(e.dump&&ge===e.dump.charCodeAt(0)?d+=":":d+=": ",d+=e.dump,t+=d));e.tag=s,e.dump=t||"{}"}function Pt(e,r,n){var i,t,s,o,c,a;for(t=n?e.explicitTypes:e.implicitTypes,s=0,o=t.length;s<o;s+=1)if(c=t[s],(c.instanceOf||c.predicate)&&(!c.instanceOf||typeof r=="object"&&r instanceof c.instanceOf)&&(!c.predicate||c.predicate(r))){if(e.tag=n?c.tag:"?",c.represent){if(a=e.styleMap[c.tag]||c.defaultStyle,Tt.call(c.represent)==="[object Function]")i=c.represent(r,a);else if(Dt.call(c.represent,a))i=c.represent[a](r,a);else throw new we("!<"+c.tag+'> tag resolver accepts not "'+a+'" style');e.dump=i}return!0}return!1}function z(e,r,n,i,t,s){e.tag=null,e.dump=n,Pt(e,n,!1)||Pt(e,n,!0);var o=Tt.call(e.dump);i&&(i=e.flowLevel<0||e.flowLevel>r);var c=o==="[object Object]"||o==="[object Array]",a,l;if(c&&(a=e.duplicates.indexOf(n),l=a!==-1),(e.tag!==null&&e.tag!=="?"||l||e.indent!==2&&r>0)&&(t=!1),l&&e.usedDuplicates[a])e.dump="*ref_"+a;else{if(c&&l&&!e.usedDuplicates[a]&&(e.usedDuplicates[a]=!0),o==="[object Object]")i&&Object.keys(e.dump).length!==0?(ba(e,r,e.dump,t),l&&(e.dump="&ref_"+a+e.dump)):(xa(e,r,e.dump),l&&(e.dump="&ref_"+a+" "+e.dump));else if(o==="[object Array]"){var u=e.noArrayIndent&&r>0?r-1:r;i&&e.dump.length!==0?(ya(e,u,e.dump,t),l&&(e.dump="&ref_"+a+e.dump)):(va(e,u,e.dump),l&&(e.dump="&ref_"+a+" "+e.dump))}else if(o==="[object String]")e.tag!=="?"&&ga(e,e.dump,r,s);else{if(e.skipInvalid)return!1;throw new we("unacceptable kind of an object to dump "+o)}e.tag!==null&&e.tag!=="?"&&(e.dump="!<"+e.tag+"> "+e.dump)}return!0}function Aa(e,r){var n=[],i=[],t,s;for(yr(e,n,i),t=0,s=i.length;t<s;t+=1)r.duplicates.push(n[i[t]]);r.usedDuplicates=new Array(s)}function yr(e,r,n){var i,t,s;if(e!==null&&typeof e=="object")if(t=r.indexOf(e),t!==-1)n.indexOf(t)===-1&&n.push(t);else if(r.push(e),Array.isArray(e))for(t=0,s=e.length;t<s;t+=1)yr(e[t],r,n);else for(i=Object.keys(e),t=0,s=i.length;t<s;t+=1)yr(e[i[t]],r,n)}function Yt(e,r){r=r||{};var n=new ua(r);return n.noRefs||Aa(e,n),z(n,0,e,!0,!0)?n.dump+`
`:""}function Ca(e,r){return Yt(e,me.extend({schema:Wc},r))}br.exports.dump=Yt;br.exports.safeDump=Ca});var Kt=p((tu,x)=>{"use strict";var Ke=At(),Gt=Wt();function Ve(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}x.exports.Type=C();x.exports.Schema=K();x.exports.FAILSAFE_SCHEMA=$e();x.exports.JSON_SCHEMA=dr();x.exports.CORE_SCHEMA=pr();x.exports.DEFAULT_SAFE_SCHEMA=re();x.exports.DEFAULT_FULL_SCHEMA=pe();x.exports.load=Ke.load;x.exports.loadAll=Ke.loadAll;x.exports.safeLoad=Ke.safeLoad;x.exports.safeLoadAll=Ke.safeLoadAll;x.exports.dump=Gt.dump;x.exports.safeDump=Gt.safeDump;x.exports.YAMLException=Z();x.exports.MINIMAL_SCHEMA=$e();x.exports.SAFE_SCHEMA=re();x.exports.DEFAULT_SCHEMA=pe();x.exports.scan=Ve("scan");x.exports.parse=Ve("parse");x.exports.compose=Ve("compose");x.exports.addConstructor=Ve("addConstructor")});var Qt=p((iu,Vt)=>{"use strict";var Ea=Kt();Vt.exports=Ea});var Ar=p((exports,module)=>{"use strict";var yaml=Qt(),engines=exports=module.exports;engines.yaml={parse:yaml.safeLoad.bind(yaml),stringify:yaml.safeDump.bind(yaml)};engines.json={parse:JSON.parse.bind(JSON),stringify:function(e,r){let n=Object.assign({replacer:null,space:2},r);return JSON.stringify(e,n.replacer,n.space)}};engines.javascript={parse:function parse(str,options,wrap){try{return wrap!==!1&&(str=`(function() {
return `+str.trim()+`;
}());`),eval(str)||{}}catch(e){if(wrap!==!1&&/(unexpected|identifier)/i.test(e.message))return parse(str,options,!1);throw new SyntaxError(e)}},stringify:function(){throw new Error("stringifying JavaScript is not supported")}}});var zt=p((ou,Jt)=>{"use strict";Jt.exports=function(e){return typeof e=="string"&&e.charAt(0)==="\uFEFF"?e.slice(1):e}});var Qe=p(R=>{"use strict";var Xt=zt(),Zt=fe();R.define=function(e,r,n){Reflect.defineProperty(e,r,{enumerable:!1,configurable:!0,writable:!0,value:n})};R.isBuffer=function(e){return Zt(e)==="buffer"};R.isObject=function(e){return Zt(e)==="object"};R.toBuffer=function(e){return typeof e=="string"?Buffer.from(e):e};R.toString=function(e){if(R.isBuffer(e))return Xt(String(e));if(typeof e!="string")throw new TypeError("expected input to be a string or buffer");return Xt(e)};R.arrayify=function(e){return e?Array.isArray(e)?e:[e]:[]};R.startsWith=function(e,r,n){return typeof n!="number"&&(n=r.length),e.slice(0,n)===r}});var ve=p((cu,ei)=>{"use strict";var Sa=Ar(),Fa=Qe();ei.exports=function(e){let r=Object.assign({},e);return r.delimiters=Fa.arrayify(r.delims||r.delimiters||"---"),r.delimiters.length===1&&r.delimiters.push(r.delimiters[0]),r.language=(r.language||r.lang||"yaml").toLowerCase(),r.engines=Object.assign({},Sa,r.parsers,r.engines),r}});var Cr=p((au,ri)=>{"use strict";ri.exports=function(e,r){let n=r.engines[e]||r.engines[_a(e)];if(typeof n>"u")throw new Error('gray-matter engine "'+e+'" is not registered');return typeof n=="function"&&(n={parse:n}),n};function _a(e){switch(e.toLowerCase()){case"js":case"javascript":return"javascript";case"coffee":case"coffeescript":case"cson":return"coffee";case"yaml":case"yml":return"yaml";default:return e}}});var Er=p((lu,ni)=>{"use strict";var ja=fe(),Pa=Cr(),Ta=ve();ni.exports=function(e,r,n){if(r==null&&n==null)switch(ja(e)){case"object":r=e.data,n={};break;case"string":return e;default:throw new TypeError("expected file to be a string or object")}let i=e.content,t=Ta(n);if(r==null){if(!t.data)return e;r=t.data}let s=e.language||t.language,o=Pa(s,t);if(typeof o.stringify!="function")throw new TypeError('expected "'+s+'.stringify" to be a function');r=Object.assign({},e.data,r);let c=t.delimiters[0],a=t.delimiters[1],l=o.stringify(r,n).trim(),u="";return l!=="{}"&&(u=se(c)+se(l)+se(a)),typeof e.excerpt=="string"&&e.excerpt!==""&&i.indexOf(e.excerpt.trim())===-1&&(u+=se(e.excerpt)+se(a)),u+se(i)};function se(e){return e.slice(-1)!==`
`?e+`
`:e}});var ii=p((uu,ti)=>{"use strict";var Da=ve();ti.exports=function(e,r){let n=Da(r);if(e.data==null&&(e.data={}),typeof n.excerpt=="function")return n.excerpt(e,n);let i=e.data.excerpt_separator||n.excerpt_separator;if(i==null&&(n.excerpt===!1||n.excerpt==null))return e;let t=typeof n.excerpt=="string"?n.excerpt:i||n.delimiters[0],s=e.content.indexOf(t);return s!==-1&&(e.excerpt=e.content.slice(0,s)),e}});var ci=p((fu,si)=>{"use strict";var oi=fe(),ka=Er(),ce=Qe();si.exports=function(e){return oi(e)!=="object"&&(e={content:e}),oi(e.data)!=="object"&&(e.data={}),e.contents&&e.content==null&&(e.content=e.contents),ce.define(e,"orig",ce.toBuffer(e.content)),ce.define(e,"language",e.language||""),ce.define(e,"matter",e.matter||""),ce.define(e,"stringify",function(r,n){return n&&n.language&&(e.language=n.language),ka(e,r,n)}),e.content=ce.toString(e.content),e.isEmpty=!1,e.excerpt="",e}});var li=p((du,ai)=>{"use strict";var Oa=Cr(),Ia=ve();ai.exports=function(e,r,n){let i=Ia(n),t=Oa(e,i);if(typeof t.parse!="function")throw new TypeError('expected "'+e+'.parse" to be a function');return t.parse(r,i)}});var pi=p((pu,di)=>{"use strict";var Ma=require("fs"),qa=on(),Sr=ve(),Na=Er(),ui=ii(),La=Ar(),Ra=ci(),$a=li(),fi=Qe();function j(e,r){if(e==="")return{data:{},content:e,excerpt:"",orig:e};let n=Ra(e),i=j.cache[n.content];if(!r){if(i)return n=Object.assign({},i),n.orig=i.orig,n;j.cache[n.content]=n}return Ba(n,r)}function Ba(e,r){let n=Sr(r),i=n.delimiters[0],t=`
`+n.delimiters[1],s=e.content;n.language&&(e.language=n.language);let o=i.length;if(!fi.startsWith(s,i,o))return ui(e,n),e;if(s.charAt(o)===i.slice(-1))return e;s=s.slice(o);let c=s.length,a=j.language(s,n);a.name&&(e.language=a.name,s=s.slice(a.raw.length));let l=s.indexOf(t);return l===-1&&(l=c),e.matter=s.slice(0,l),e.matter.replace(/^\s*#[^\n]+/gm,"").trim()===""?(e.isEmpty=!0,e.empty=e.content,e.data={}):e.data=$a(e.language,e.matter,n),l===c?e.content="":(e.content=s.slice(l+t.length),e.content[0]==="\r"&&(e.content=e.content.slice(1)),e.content[0]===`
`&&(e.content=e.content.slice(1))),ui(e,n),(n.sections===!0||typeof n.section=="function")&&qa(e,n.section),e}j.engines=La;j.stringify=function(e,r,n){return typeof e=="string"&&(e=j(e,n)),Na(e,r,n)};j.read=function(e,r){let n=Ma.readFileSync(e,"utf8"),i=j(n,r);return i.path=e,i};j.test=function(e,r){return fi.startsWith(e,Sr(r).delimiters[0])};j.language=function(e,r){let i=Sr(r).delimiters[0];j.test(e)&&(e=e.slice(i.length));let t=e.slice(0,e.search(/\r?\n/));return{raw:t,name:t?t.trim():""}};j.cache={};j.clearCache=function(){j.cache={}};di.exports=j});var za={};Ei(za,{activate:()=>Qa,deactivate:()=>Ja});module.exports=Si(za);var S=k(require("vscode"));var E=k(require("vscode")),_r=k(require("path"));var H=class extends E.TreeItem{constructor(n,i,t,s,o,c,a){super(n,t);this.label=n;this.type=i;this.collapsibleState=t;this.id=s;this.projectId=o;this.project=c;this.view=a;switch(this.contextValue=i===0?"project":i===1?"view":"archive",this.tooltip=i===0?`Project: ${n} (ID: ${s})`:i===1?`View: ${n} (Type: ${a?.type})`:"Archives",i){case 0:this.iconPath=new E.ThemeIcon("project");break;case 1:a?.type==="table"?this.iconPath=new E.ThemeIcon("list-tree"):a?.type==="board"?this.iconPath=new E.ThemeIcon("layout"):a?.type==="calendar"?this.iconPath=new E.ThemeIcon("calendar"):a?.type==="gallery"?this.iconPath=new E.ThemeIcon("multiple-windows"):this.iconPath=new E.ThemeIcon("preview");break;case 2:this.iconPath=new E.ThemeIcon("archive");break}i===0&&c?.dataSource&&(c.dataSource.kind==="folder"?this.description=`Folder: ${_r.basename(c.dataSource.config.path)}`:c.dataSource.kind==="tag"?this.description=`Tag: ${c.dataSource.config.tag}`:c.dataSource.kind==="query"&&(this.description="Query")),i===1&&o&&s?this.command={command:"vscode-projects.openView",title:"Open View",arguments:[o,s]}:i===0&&s&&(this.command={command:"vscode-projects.openProject",title:"Open Project",arguments:[s]})}},be=class{constructor(r){this.projectManager=r;this._onDidChangeTreeData=new E.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event;this.showArchives=!1;console.log("ProjectsProvider constructor called")}refresh(){this._onDidChangeTreeData.fire()}toggleArchives(){this.showArchives=!this.showArchives,this.refresh()}getTreeItem(r){return console.log(`getTreeItem called for: ${r.label}`),r}getChildren(r){console.log(`getChildren called with element: ${r?r.label:"root"}`);try{if(r){if(r.type===0&&r.projectId){let n=this.projectManager.getProject(r.projectId);return n?Promise.resolve(n.views.map(i=>new H(i.name,1,E.TreeItemCollapsibleState.None,i.id,n.id,n,i))):Promise.resolve([])}else if(r.type===2){let n=this.projectManager.getArchives();return Promise.resolve(n.map(i=>new H(i.name,0,E.TreeItemCollapsibleState.Collapsed,i.id,i.id,i)))}}else{let n=[],i=this.projectManager.getProjects();if(console.log(`Found ${i.length} projects`),i.length===0?n.push(new H("No projects found. Click the + button to create one.",0,E.TreeItemCollapsibleState.None)):i.forEach(t=>{n.push(new H(t.name,0,E.TreeItemCollapsibleState.Collapsed,t.id,t.id,t))}),this.showArchives){let t=this.projectManager.getArchives();console.log(`Found ${t.length} archived projects`),t.length>0&&n.push(new H("Archives",2,E.TreeItemCollapsibleState.Collapsed))}return Promise.resolve(n)}return Promise.resolve([])}catch(n){return console.error("Error getting children:",n),Promise.resolve([])}}};var M=k(require("vscode")),qe=k(Wr());var Gr={id:"",name:"Table",type:"table",filter:{conjunction:"and",conditions:[]},colors:{conditions:[]},sort:{criteria:[]}},Kr={id:"",name:"",views:[],dataSource:{kind:"folder",config:{path:"",recursive:!1}},excludedFiles:[]},Vr={projects:[],archives:[],preferences:{}};var ue=class extends Error{constructor(n,i){super(`Error processing record ${n}: ${i.message}`);this.id=n;this.error=i;this.name="RecordError"}};var Le=k(require("path")),Ne=class{constructor(r,n){this.context=r;this.fileSystem=n;this.settings=this.loadSettings()}getProjects(){return this.settings.projects}getArchives(){return this.settings.archives}getProject(r){return this.settings.projects.find(n=>n.id===r)}async createProject(r,n){let i=(0,qe.v4)(),t={...Kr,id:i,name:r,views:[{...Gr,id:(0,qe.v4)(),name:"Table",type:"table"}]};n&&(t={...t,dataSource:{kind:"folder",config:{path:n.fsPath,recursive:!1}}});let s=[...this.settings.projects,t];return this.settings={...this.settings,projects:s},await this.saveSettings(),t}async addViewToProject(r,n,i,t={}){let s=this.getProject(r);if(!s)throw new Error(`Project with ID ${r} not found`);let o={id:(0,qe.v4)(),name:n,type:i,config:t,filter:{conjunction:"and",conditions:[]},colors:{conditions:[]},sort:{criteria:[]}},c={...s,views:[...s.views,o]};await this.updateProject(c)}async updateProject(r){let n=this.settings.projects.map(i=>i.id===r.id?r:i);this.settings={...this.settings,projects:n},await this.saveSettings()}async deleteProject(r){let n=this.settings.projects.filter(i=>i.id!==r);this.settings={...this.settings,projects:n},await this.saveSettings()}async archiveProject(r){let n=this.settings.projects.find(i=>i.id===r);if(n){let i=this.settings.projects.filter(s=>s.id!==r),t=[...this.settings.archives,n];this.settings={...this.settings,projects:i,archives:t},await this.saveSettings()}}async createNote(r,n,i){let t="";if(r.newFilesFolder)t=r.newFilesFolder;else if(r.dataSource.kind==="folder")t=r.dataSource.config.path;else{let c=M.workspace.workspaceFolders;if(c&&c.length>0)t=c[0]?.uri.fsPath||"";else{let a=await M.window.showOpenDialog({canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1,title:"Select a folder to save the new note"});if(a&&a.length>0)t=a[0]?.fsPath||"";else throw new Error("No folder selected")}}let s=Le.join(t,`${n}.md`),o="";if(i)try{o=await this.fileSystem.readFile(i)}catch(c){console.error("Error reading template file:",c)}return await this.fileSystem.writeFile(s,o),s}async queryProject(r){let n=[],i=[];try{if(r.dataSource.kind==="folder"){let s=await this.fileSystem.getFilesInFolder(r.dataSource.config.path,r.dataSource.config.recursive);for(let o of s)try{if(o.endsWith(".md")){let c=o,a=await this.fileSystem.readFile(o),l=this.fileSystem.parseFrontMatter(a),u={id:c,values:{...l,path:o,name:Le.basename(o,".md")}};r.excludedFiles.includes(o)||n.push(u)}}catch(c){i.push(new ue(o,c instanceof Error?c:new Error(`${c}`)))}}else r.dataSource.kind==="tag"||r.dataSource.kind}catch(s){i.push(new ue("project",s instanceof Error?s:new Error(`Error querying project: ${s}`)))}let t=this.detectFields(n);return{records:n,fields:t,errors:i}}loadSettings(){let r=M.workspace.getConfiguration("vscode-projects"),n=r.get("projects",[]),i=r.get("archives",[]),t=r.get("preferences",Vr.preferences);return{projects:n,archives:i,preferences:t}}async saveSettings(){let r=M.workspace.getConfiguration("vscode-projects");await r.update("projects",this.settings.projects,M.ConfigurationTarget.Global),await r.update("archives",this.settings.archives,M.ConfigurationTarget.Global),await r.update("preferences",this.settings.preferences,M.ConfigurationTarget.Global)}detectFields(r){let n=new Map;for(let i of r)for(let[t,s]of Object.entries(i.values))if(!n.has(t)){let o=this.determineType(s),c=Array.isArray(s);n.set(t,{type:o,repeated:c})}return Array.from(n.entries()).map(([i,{type:t,repeated:s}])=>({name:i,type:t,repeated:s,identifier:i==="id",derived:i==="path"||i==="name"}))}determineType(r){return r==null?"unknown":Array.isArray(r)?r.length>0?this.determineType(r[0]):"string":r instanceof Date?"date":typeof r}};var O=k(require("vscode")),D=k(require("fs")),Xe=k(require("path")),U=require("util"),Je=k(pi()),Ua=(0,U.promisify)(D.readFile),Ha=(0,U.promisify)(D.writeFile),Ya=(0,U.promisify)(D.unlink),Wa=(0,U.promisify)(D.exists),Ga=(0,U.promisify)(D.readdir),Ka=(0,U.promisify)(D.stat),ze=class{async readFile(r){try{try{let n=O.Uri.file(r),i=await O.workspace.fs.readFile(n);return Buffer.from(i).toString("utf8")}catch{return await Ua(r,"utf8")}}catch(n){throw new Error(`Failed to read file ${r}: ${n}`)}}async writeFile(r,n){try{await this.ensureDirectory(Xe.dirname(r));try{let i=O.Uri.file(r),t=Buffer.from(n,"utf8");await O.workspace.fs.writeFile(i,t)}catch{await Ha(r,n,"utf8")}}catch(i){throw new Error(`Failed to write to file ${r}: ${i}`)}}async deleteFile(r){try{try{let n=O.Uri.file(r);await O.workspace.fs.delete(n)}catch{await Ya(r)}}catch(n){throw new Error(`Failed to delete file ${r}: ${n}`)}}async fileExists(r){try{try{let n=O.Uri.file(r);return await O.workspace.fs.stat(n),!0}catch{return Wa(r)}}catch{return!1}}async getFilesInFolder(r,n){let i=[];try{let t=await Ga(r);for(let s of t){let o=Xe.join(r,s),c=await Ka(o);if(c.isFile())i.push(o);else if(c.isDirectory()&&n){let a=await this.getFilesInFolder(o,n);i.push(...a)}}}catch(t){console.error(`Error reading directory ${r}:`,t)}return i}parseFrontMatter(r){try{let{data:n}=(0,Je.default)(r);return n}catch(n){return console.error("Error parsing frontmatter:",n),{}}}addFrontMatter(r,n){try{let{content:i,data:t}=(0,Je.default)(r),s={...t,...n};return Je.default.stringify(i,s)}catch(i){return console.error("Error adding frontmatter:",i),r}}async ensureDirectory(r){try{await O.workspace.fs.createDirectory(O.Uri.file(r))}catch{try{await(0,U.promisify)(D.mkdir)(r,{recursive:!0})}catch(i){if(i.code!=="EEXIST")throw i}}}};var m=k(require("vscode"));async function hi(e,r){let n=await m.window.showInputBox({prompt:"Enter a name for the new project",placeHolder:"My Project"});if(!n)return;let i=[{label:"Folder-based project",description:"Create a project based on a specific folder"},{label:"Tag-based project",description:"Create a project based on file tags"},{label:"Query-based project",description:"Create a project based on a search query"}],t=await m.window.showQuickPick(i,{placeHolder:"Select the type of project"});if(t)try{let s;if(t.label==="Folder-based project"){let o=await m.window.showOpenDialog({canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1,title:"Select a folder for the project"});if(o&&o.length>0)s=o[0];else return}await e.createProject(n,s),r.refresh(),m.window.showInformationMessage(`Project "${n}" created successfully.`)}catch(s){m.window.showErrorMessage(`Failed to create project: ${s}`)}}async function gi(e){let r=e.getProjects();if(r.length===0){m.window.showErrorMessage("No projects exist. Create a project first.");return}let n=r.map(s=>({label:s.name,description:Ze(s),project:s})),i=await m.window.showQuickPick(n,{placeHolder:"Select a project to create a note in"});if(!i)return;let t=await m.window.showInputBox({prompt:"Enter a name for the new note",placeHolder:"My Note"});if(t)try{let s;if(i.project.templates&&i.project.templates.length>0){let a=i.project.templates.map(u=>({label:u.replace(/^.*[\\\/]/,""),description:u,template:u}));a.unshift({label:"No template",description:"Create a blank note",template:""});let l=await m.window.showQuickPick(a,{placeHolder:"Select a template (optional)"});l&&l.template&&(s=l.template)}let o=await e.createNote(i.project,t,s),c=m.Uri.file(o);await m.window.showTextDocument(c),m.window.showInformationMessage(`Note "${t}" created successfully.`)}catch(s){m.window.showErrorMessage(`Failed to create note: ${s}`)}}async function mi(e){let r=e.getProjects();if(r.length===0){m.window.showErrorMessage("No projects exist. Create a project first.");return}let n=r.map(c=>({label:c.name,description:Ze(c),project:c})),i=await m.window.showQuickPick(n,{placeHolder:"Select a project to add a view to"});if(!i)return;let t=await m.window.showInputBox({prompt:"Enter a name for the new view",placeHolder:"New View"});if(!t)return;let s=[{label:"Table",description:"Display items in a table layout"},{label:"Board",description:"Display items in a kanban board layout"},{label:"Calendar",description:"Display items in a calendar"},{label:"Gallery",description:"Display items in a gallery grid"}],o=await m.window.showQuickPick(s,{placeHolder:"Select the type of view"});if(o)try{let c=o.label.toLowerCase(),a;if(c==="board"){let l=await e.queryProject(i.project);if(l.fields.length>0){let u=l.fields.map(d=>({label:d.name,description:`Type: ${d.type}`})),f=await m.window.showQuickPick(u,{placeHolder:"Select a field to group by in the board view"});f&&(a=f.label)}}await e.addViewToProject(i.project.id,t,c,a?{groupByField:a}:{}),m.window.showInformationMessage(`View "${t}" created successfully.`)}catch(c){m.window.showErrorMessage(`Failed to create view: ${c}`)}}async function wi(e,r){let n=e.getProjects();if(n.length===0){m.window.showErrorMessage("No projects exist to delete.");return}let i=n.map(o=>({label:o.name,description:Ze(o),id:o.id})),t=await m.window.showQuickPick(i,{placeHolder:"Select a project to delete"});if(!(!t||await m.window.showWarningMessage(`Are you sure you want to delete the project "${t.label}"? This action cannot be undone.`,{modal:!0},"Delete")!=="Delete"))try{await e.deleteProject(t.id),r.refresh(),m.window.showInformationMessage(`Project "${t.label}" deleted successfully.`)}catch(o){m.window.showErrorMessage(`Failed to delete project: ${o}`)}}async function vi(e,r){let n=e.getProjects();if(n.length===0){m.window.showErrorMessage("No projects exist.");return}let i=n.map(l=>({label:l.name,description:Ze(l),project:l})),t=await m.window.showQuickPick(i,{placeHolder:"Select a project"});if(!t)return;let s=t.project.views;if(s.length===0){m.window.showErrorMessage(`Project "${t.label}" has no views.`);return}if(s.length===1){m.window.showErrorMessage("Cannot delete the only view in a project. A project must have at least one view.");return}let o=s.map(l=>({label:l.name,description:`Type: ${l.type}`,id:l.id})),c=await m.window.showQuickPick(o,{placeHolder:"Select a view to delete"});if(!(!c||await m.window.showWarningMessage(`Are you sure you want to delete the view "${c.label}" from project "${t.label}"? This action cannot be undone.`,{modal:!0},"Delete")!=="Delete"))try{let l={...t.project,views:t.project.views.filter(u=>u.id!==c.id)};await e.updateProject(l),r.refresh(),m.window.showInformationMessage(`View "${c.label}" deleted successfully.`)}catch(l){m.window.showErrorMessage(`Failed to delete view: ${l}`)}}function Ze(e){let r=e.dataSource;return r.kind==="folder"?`Folder: ${r.config.path}`:r.kind==="tag"?`Tag: ${r.config.tag}`:r.kind==="query"?`Query: ${r.config.query}`:""}var P=k(require("vscode")),rr=k(require("path"));var er=class{applyFilters(r,n){if(!n||!n.conditions||n.conditions.length===0)return r;let i=r.records.filter(t=>this.evaluateRecord(t,n.conjunction,n.conditions));return{...r,records:i}}evaluateRecord(r,n,i){if(i.length===0)return!0;let t=this.evaluateCondition(r,i[0]);for(let s=1;s<i.length;s++){let o=this.evaluateCondition(r,i[s]);n==="and"?t=t&&o:t=t||o}return t}evaluateCondition(r,n){let{field:i,operator:t,value:s}=n,o=r.values[i];return o==null?t==="isEmpty"?!0:t==="isNotEmpty"?!1:this.evaluateStringCondition("",t,s):Array.isArray(o)?this.evaluateArrayCondition(o,t,s):typeof o=="boolean"?this.evaluateBooleanCondition(o,t,s):o instanceof Date?this.evaluateDateCondition(o,t,s):typeof o=="number"?this.evaluateNumberCondition(o,t,s):this.evaluateStringCondition(String(o),t,s)}evaluateStringCondition(r,n,i){switch(n){case"isNotEmpty":return r!=="";case"isEmpty":return r==="";case"is":return r.toLowerCase()===String(i).toLowerCase();case"isNot":return r.toLowerCase()!==String(i).toLowerCase();case"contains":return r.toLowerCase().includes(String(i).toLowerCase());case"doesNotContain":return!r.toLowerCase().includes(String(i).toLowerCase());case"startsWith":return r.toLowerCase().startsWith(String(i).toLowerCase());case"endsWith":return r.toLowerCase().endsWith(String(i).toLowerCase());default:return!0}}evaluateNumberCondition(r,n,i){let t=parseFloat(i);if(isNaN(t)&&n!=="isNotEmpty"&&n!=="isEmpty")return!1;switch(n){case"isNotEmpty":return!0;case"isEmpty":return!1;case"is":return r===t;case"isNot":return r!==t;case"greaterThan":return r>t;case"lessThan":return r<t;case"greaterThanOrEqual":return r>=t;case"lessThanOrEqual":return r<=t;default:return this.evaluateStringCondition(String(r),n,i)}}evaluateDateCondition(r,n,i){let t=new Date(i);if(isNaN(t.getTime())&&n!=="isNotEmpty"&&n!=="isEmpty")return!1;switch(n){case"isNotEmpty":return!0;case"isEmpty":return!1;case"is":return r.getTime()===t.getTime();case"isNot":return r.getTime()!==t.getTime();case"after":case"greaterThan":return r.getTime()>t.getTime();case"before":case"lessThan":return r.getTime()<t.getTime();case"onOrAfter":case"greaterThanOrEqual":return r.getTime()>=t.getTime();case"onOrBefore":case"lessThanOrEqual":return r.getTime()<=t.getTime();default:return this.evaluateStringCondition(r.toISOString(),n,i)}}evaluateBooleanCondition(r,n,i){let t=typeof i=="string"?i.toLowerCase()==="true":!!i;switch(n){case"isNotEmpty":return!0;case"isEmpty":return!1;case"is":return r===t;case"isNot":return r!==t;default:return this.evaluateStringCondition(String(r),n,i)}}evaluateArrayCondition(r,n,i){switch(n){case"isNotEmpty":return r.length>0;case"isEmpty":return r.length===0;case"contains":return r.some(t=>String(t).toLowerCase().includes(String(i).toLowerCase()));case"doesNotContain":return!r.some(t=>String(t).toLowerCase().includes(String(i).toLowerCase()));case"is":return r.some(t=>String(t).toLowerCase()===String(i).toLowerCase());case"isNot":return!r.some(t=>String(t).toLowerCase()===String(i).toLowerCase());default:return r.some(t=>typeof t=="string"?this.evaluateStringCondition(t,n,i):typeof t=="number"?this.evaluateNumberCondition(t,n,i):t instanceof Date?this.evaluateDateCondition(t,n,i):typeof t=="boolean"?this.evaluateBooleanCondition(t,n,i):this.evaluateStringCondition(String(t),n,i))}}};var ye=class{constructor(r,n){this.context=r;this.projectManager=n;this.webviewPanels=new Map}async openView(r,n){try{let i=this.projectManager.getProject(r);if(!i)throw new Error(`Project with ID ${r} not found`);let t=i.views.find(s=>s.id===n);if(!t)throw new Error(`View with ID ${n} not found in project ${i.name}`);await this.showView(i,t)}catch(i){P.window.showErrorMessage(`Failed to open view: ${i}`)}}async openProject(r){try{let n=this.projectManager.getProject(r);if(!n)throw new Error(`Project with ID ${r} not found`);if(n.views.length>0)await this.showView(n,n.views[0]);else throw new Error(`Project ${n.name} has no views`)}catch(n){P.window.showErrorMessage(`Failed to open project: ${n}`)}}async showView(r,n){let i=`${r.id}:${n.id}`,t=this.webviewPanels.get(i);if(t){t.reveal();return}let s=P.window.createWebviewPanel("projectsView",`${r.name} - ${n.name}`,P.ViewColumn.One,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[P.Uri.file(rr.join(this.context.extensionPath,"media"))]});this.webviewPanels.set(i,s),s.onDidDispose(()=>{this.webviewPanels.delete(i)});let o=new er,c=await this.projectManager.queryProject(r),a=c;n.filter&&n.filter.conditions&&n.filter.conditions.length>0&&(a=o.applyFilters(c,n.filter));let l=await this.getFilterBuilderScript(),u=await this.getFilterHandlerScript();s.webview.html=this.getWebviewContent(s.webview,r,n,a,l,u);let f=(d,h)=>{console.log(`[ViewProvider] ${d}`,h)};s.webview.onDidReceiveMessage(async d=>{switch(f(`Received message: ${d.command}`,d),d.command){case"openFile":if(d.path){let h=await P.workspace.openTextDocument(d.path);await P.window.showTextDocument(h)}break;case"refreshData":try{a=await this.projectManager.queryProject(r),s.webview.html=this.getWebviewContent(s.webview,r,n,a,l,u)}catch(h){console.error("Failed to refresh data:",h)}break}})}async getFilterBuilderScript(){try{let r=rr.join(this.context.extensionPath,"media","js","common-filter-builder.js"),n=P.Uri.file(r),i=await P.workspace.fs.readFile(n);return Buffer.from(i).toString()}catch(r){return console.error("Failed to load filter builder script:",r),`console.error("Failed to load filter builder script: ${r}");`}}async getFilterHandlerScript(){try{let r=rr.join(this.context.extensionPath,"media","js","filter-handler.js"),n=P.Uri.file(r),i=await P.workspace.fs.readFile(n);return Buffer.from(i).toString()}catch(r){return console.error("Failed to load filter handler script:",r),`console.error("Failed to load filter handler script: ${r}");`}}getWebviewContent(r,n,i,t,s="",o=""){return`<!DOCTYPE html>
      <html lang="en">
        <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>${n.name} - ${i.name}</title>
          <style>
            body {
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
              padding: 0;
              margin: 0;
            }
            .container {
              max-width: 1200px;
              margin: 0 auto;
              padding: 20px;
            }
            table {
              width: 100%;
              border-collapse: collapse;
            }
            th, td {
              padding: 8px;
              text-align: left;
              border-bottom: 1px solid #ddd;
            }
            .filter-panel {
              margin-bottom: 20px;
              padding: 10px;
              border: 1px solid #ddd;
              border-radius: 4px;
            }
            .filter-button {
              background-color: #0e639c;
              color: white;
              border: none;
              padding: 8px 12px;
              border-radius: 2px;
              cursor: pointer;
              margin-right: 5px;
            }
            .filter-error {
              background-color: #5a1d1d;
              color: #e9614e;
              padding: 10px;
              margin: 10px 0;
              border-radius: 3px;
              border-left: 3px solid #f14c4c;
            }
          </style>
        </head>
        <body>
          <div class="container">
            <h1>${n.name} - ${i.name}</h1>
            <div id="filterPanel" class="filter-panel">
              <h3>Filters</h3>
              <div id="filterBuilder"></div>
              <button id="addFilterBtn" class="filter-add">+ Add Condition</button>
              <div style="margin-top: 10px; display: flex; justify-content: space-between;">
                <button id="clearFilterBtn" class="filter-button">Clear Filters</button>
                <button id="applyFiltersBtn" class="filter-button">Apply Filters</button>
                <button id="saveFilterBtn" class="filter-button">Save Filter</button>
              </div>
            </div>
            
            <div id="contentArea">
              <table>
                <thead>
                  <tr>
                    ${t.fields.map(c=>`<th>${c.name}</th>`).join("")}
                  </tr>
                </thead>
                <tbody>
                  ${t.records.map(c=>`<tr>${t.fields.map(a=>{let l=c.values[a.name];return l==null?"<td></td>":Array.isArray(l)?"<td>"+l.join(", ")+"</td>":"<td>"+l+"</td>"}).join("")}</tr>`).join("")}
                </tbody>
              </table>
            </div>
          </div>
          
          <script>
            // Initialize dataframe fields for filter builder
            window.dataframeFields = ${JSON.stringify(t.fields)};
            
            // Establish connection to VSCode extension
            const vscode = acquireVsCodeApi();
            
            // Initialize global filter state
            window.filterState = {
              version: '1.3.0',
              activeBuilder: null,
              conditions: [],
              conjunction: 'and'
            };
          </script>
          
          <!-- Load Filter Scripts -->
          <script>${s}</script>
          <script>${o}</script>
        </body>
      </html>`}};var X;function w(e,r="info"){if(!X)return;let i=`[${new Date().toISOString().replace("T"," ").substr(0,19)}] ${e}`;switch(r){case"error":console.error(i),X.appendLine(`ERROR: ${e}`);break;case"warn":console.warn(i),X.appendLine(`WARNING: ${e}`);break;default:console.log(i),X.appendLine(`INFO: ${e}`)}}function Va(e,r,n,i,t){w("Registering commands...");let s={"vscode-projects.showProjects":()=>{w("Show projects command executed"),t.reveal(null,{focus:!0,select:!1})},"vscode-projects.createProject":async()=>{w("Create project command executed");try{await hi(r,n)}catch(o){w(`Error creating project: ${o}`,"error"),S.window.showErrorMessage(`Failed to create project: ${o}`)}},"vscode-projects.createNote":async()=>{w("Create note command executed");try{await gi(r)}catch(o){w(`Error creating note: ${o}`,"error"),S.window.showErrorMessage(`Failed to create note: ${o}`)}},"vscode-projects.openProject":async o=>{w(`Open project command executed with projectId: ${o}`);try{if(!o){let c=r.getProjects();if(c.length===0)throw new Error("No projects exist. Create a project first.");let a=c.map(u=>({label:u.name,id:u.id})),l=await S.window.showQuickPick(a,{placeHolder:"Select a project to open"});if(!l)return;o=l.id,w(`User selected project: ${l.label} (${o})`)}await i.openProject(o)}catch(c){w(`Error opening project: ${c}`,"error"),S.window.showErrorMessage(`Failed to open project: ${c}`)}},"vscode-projects.openView":async(o,c)=>{w(`Open view command executed with projectId: ${o}, viewId: ${c}`);try{if(!o){let a=r.getProjects();if(a.length===0)throw new Error("No projects exist. Create a project first.");let l=a.map(f=>({label:f.name,id:f.id})),u=await S.window.showQuickPick(l,{placeHolder:"Select a project"});if(!u)return;o=u.id,w(`User selected project: ${u.label} (${o})`)}if(!c){let a=r.getProject(o);if(!a)throw new Error(`Project with ID ${o} not found`);if(a.views.length===0)throw new Error(`Project ${a.name} has no views`);let l=a.views.map(f=>({label:f.name,description:`Type: ${f.type}`,id:f.id})),u=await S.window.showQuickPick(l,{placeHolder:"Select a view"});if(!u)return;c=u.id,w(`User selected view: ${u.label} (${c})`)}await i.openView(o,c)}catch(a){w(`Error opening view: ${a}`,"error"),S.window.showErrorMessage(`Failed to open view: ${a}`)}},"vscode-projects.refreshView":()=>{w("Refresh view command executed"),n.refresh()},"vscode-projects.toggleArchives":()=>{w("Toggle archives command executed"),n.toggleArchives()},"vscode-projects.createView":async()=>{w("Create view command executed");try{await mi(r),n.refresh()}catch(o){w(`Error creating view: ${o}`,"error"),S.window.showErrorMessage(`Failed to create view: ${o}`)}},"vscode-projects.deleteProject":async()=>{w("Delete project command executed");try{await wi(r,n)}catch(o){w(`Error deleting project: ${o}`,"error"),S.window.showErrorMessage(`Failed to delete project: ${o}`)}},"vscode-projects.deleteView":async()=>{w("Delete view command executed");try{await vi(r,n)}catch(o){w(`Error deleting view: ${o}`,"error"),S.window.showErrorMessage(`Failed to delete view: ${o}`)}}};Object.keys(s).forEach(o=>{try{w(`Registering command: ${o}`);let c=S.commands.registerCommand(o,s[o]);e.subscriptions.push(c),w(`Command registered successfully: ${o}`)}catch(c){w(`Error registering command ${o}: ${c}`,"error"),S.window.showErrorMessage(`Failed to register command ${o}: ${c}`)}}),w("All commands registered successfully")}function Qa(e){X=S.window.createOutputChannel("VSCode Projects"),e.subscriptions.push(X),w("Activating VSCode Projects extension"),w(`Extension path: ${e.extensionPath}`);try{let r=new ze;w("File system adapter initialized");let n=new Ne(e,r);w("Project manager initialized");let i=new ye(e,n);w("View provider initialized");let t=new be(n);w("Projects tree data provider initialized");let s=S.window.createTreeView("vscode-projects-sidebar",{treeDataProvider:t,showCollapseAll:!0});w("Tree view registered with ID: vscode-projects-sidebar"),Va(e,n,t,i,s),e.subscriptions.push(X,s),w("VSCode Projects extension activated successfully"),S.window.showInformationMessage("VSCode Projects extension activated!")}catch(r){w(`Error during extension activation: ${r}`,"error"),S.window.showErrorMessage(`Failed to activate VSCode Projects extension: ${r}`)}}function Ja(){w("Deactivating VSCode Projects extension")}0&&(module.exports={activate,deactivate});
/*! Bundled license information:

is-extendable/index.js:
  (*!
   * is-extendable <https://github.com/jonschlinkert/is-extendable>
   *
   * Copyright (c) 2015, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

strip-bom-string/index.js:
  (*!
   * strip-bom-string <https://github.com/jonschlinkert/strip-bom-string>
   *
   * Copyright (c) 2015, 2017, Jon Schlinkert.
   * Released under the MIT License.
   *)
*/
//# sourceMappingURL=extension.js.map
